/*! Edit by Jerry */
!function(t){function e(r){if(i[r])return i[r].exports;var n=i[r]={i:r,l:!1,exports:{}};return t[r].call(n.exports,n,n.exports,e),n.l=!0,n.exports}var i={};e.m=t,e.c=i,e.d=function(t,i,r){e.o(t,i)||Object.defineProperty(t,i,{configurable:!1,enumerable:!0,get:r})},e.n=function(t){var i=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(i,"a",i),i},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=2)}([function(t,e){var i=document.getElementById("canvas1"),r=i.getContext("2d"),n=document.getElementById("canvas2"),a=n.getContext("2d"),o={imgUrl:"./images/",can1:i,ctx1:r,can2:n,ctx2:a,canWid:i.width,canHei:i.height,mx:.5*i.width,my:.5*i.height,aneOb:{},fruitOb:{},momOb:{},babyOb:{},scoreOb:{},waveOb:{},haloOb:{},dustOb:{},diffframetime:0};t.exports=o},function(t,e){function i(t,e,i,r){return Math.sqrt(Math.pow(t-i,2)+Math.pow(e-r,2))}function r(t,e,i){var r=e-t;return r>Math.PI&&(r-=2*Math.PI),r<-Math.PI&&(r+=2*Math.PI),t+r*i}function n(t,e,i){return t+(e-t)*i}function a(t,e,i,r,n){var a=Math.abs(t-i),o=Math.abs(e-r);return a<n&&o<n}window.requestAnimFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t,e){return window.setTimeout(t,1e3/60)}}();var o={calLength2:i,lerpAngle:r,lerpDistance:n,distance:a};t.exports=o},function(t,e,i){const r=i(3);i(12),r.startgame()},function(t,e,i){const r=i(0),n=i(1),a=i(4),o=i(5),s=i(6),h=i(7),u=i(8),m=i(9),f=i(10),d=i(11);var c,l,y,p,b,v,x,g,w,I=r.can1,T=r.ctx1,E=r.ctx2,A=r.canWid,O=r.canHei,B=n.calLength2,M={};M.startgame=function(){M.init(),w=Date.now(),M.gameLoop()},M.drawBackgorund=function(){var t=new Image;t.src=r.imgUrl+"background.jpg",E.drawImage(t,0,0,A,O)},M.init=function(){T.fillStyle="white",T.font="20px 微软雅黑",T.textAlign="center",I.addEventListener("mousemove",M.onMouseMove,!1),I.addEventListener("click",M.onClick,!1),r.mx=.5*A,r.my=.5*O,c=r.aneOb=new a,c.init(),l=r.fruitOb=new h,l.init(),y=r.momOb=new m,y.init(),p=r.babyOb=new o,p.init(),b=r.scoreOb=new f,v=r.waveOb=new d,v.init(),x=r.haloOb=new u,x.init(),g=r.dustOb=new s,g.init()},M.gameLoop=function(){requestAnimFrame(M.gameLoop);var t=Date.now();r.diffframetime=t-w,w=t,r.diffframetime>40&&(r.diffframetime=40),E.clearRect(0,0,A,O),M.drawBackgorund(),c.drawAne(),l.computeFruit(),l.drawFruit(),T.clearRect(0,0,A,O),y.drawMom(),p.drawBaby(),b.gameOver||(M.momEatFruit(),M.momFoodBaby()),b.drawScore(),v.drawWave(),x.drawHalo(),g.drawDust()},M.onMouseMove=function(t){b.gameOver||(t.offsetX||t.layerX)&&(r.mx=void 0==t.offsetX?t.layerX:t.offsetX,r.my=void 0==t.offsetY?t.layerY:t.offsetY)},M.onClick=function(){b.gameOver&&(b.gameOver=!1,l.init(),y.init(),p.init(),b.init())},M.momEatFruit=function(){for(var t=0;t<l.num;t++)if(l.alive[t]&&l.grow[t]){var e=B(l.x[t],l.y[t],y.x,y.y);e<30&&(l.dead(t),v.born(t),b.fruitNum++,y.momBodyIndex=7==y.momBodyIndex?y.momBodyIndex:y.momBodyIndex+1,"blue"==l.type[t]&&b.doubleNum++)}},M.momFoodBaby=function(){if(b.fruitNum>0){if(B(y.x,y.y,p.x,p.y)<30){x.born(),y.momBodyIndex=0;var t=b.doubleNum*b.fruitNum,e=p.babyBodyIndex-t;e<0&&(e=0);var i=b.strength+(e/2).toFixed(0);i>10&&(i=10),b.strength=i,p.babyBodyIndex=e,b.computeScore()}}},t.exports={startgame:M.startgame}},function(t,e,i){var r=i(0),n=r.ctx2,a=r.canHei,o=function(){this.num=50,this.rootx=[],this.headx=[],this.heady=[],this.amp=[],this.beta=0};o.prototype.init=function(){for(var t=0;t<this.num;t++)this.rootx[t]=18*t+30*Math.random(),this.headx[t]=this.rootx[t],this.heady[t]=a-220+50*Math.random(),this.amp[t]=50*Math.random()+60},o.prototype.drawAne=function(){this.beta+=8e-4*r.diffframetime;var t=Math.sin(this.beta);n.save(),n.globalAlpha=.7,n.lineWidth=20,n.lineCap="round",n.strokeStyle="#3b154e";for(var e=0;e<this.num;e++){var i=this.headx[e]+t*this.amp[e];n.beginPath(),n.moveTo(this.rootx[e],a),n.quadraticCurveTo(this.rootx[e],a-100,i,this.heady[e]),n.stroke()}n.restore()},t.exports=o},function(t,e,i){var r=i(0),n=i(1),a=r.imgUrl,o=r.ctx1,s=r.can1,h=r.canWid,u=r.canHei,m=n.lerpAngle,f=n.lerpDistance,d=function(){this.x=0,this.y=0,this.angle,this.babyTailArr=[],this.babyTailTimer=0,this.babyTailIndex=0,this.babyEyeArr=[],this.babyEyeTimer=0,this.babyEyeIndex=0,this.babyEyeInterval=1e3,this.babyBodyArr=[],this.babyBodyTimer=0,this.babyBodyIndex=0};d.prototype.init=function(){this.x=.5*h-50,this.y=.5*u+50,this.babyBodyIndex=0,this.angle=0;for(var t=0;t<8;t++)this.babyTailArr[t]=new Image,this.babyTailArr[t].src=a+"babyTail"+t+".png";for(var t=0;t<2;t++)this.babyEyeArr[t]=new Image,this.babyEyeArr[t].src=a+"babyEye"+t+".png";for(var t=0;t<20;t++)this.babyBodyArr[t]=new Image,this.babyBodyArr[t].src=a+"babyFade"+t+".png"},d.prototype.drawBaby=function(){var t=r.momOb,e=r.scoreOb;this.x=f(t.x,this.x,.98),this.y=f(t.y,this.y,.99);var i=t.x-this.x,n=t.y-this.y,a=Math.atan2(n,i)+Math.PI;this.angle=m(a,this.angle,.6),this.babyTailTimer+=r.diffframetime,this.babyTailTimer>50&&(this.babyTailIndex=(this.babyTailIndex+1)%8,this.babyTailTimer%=50),this.babyEyeTimer+=r.diffframetime,this.babyEyeTimer>this.babyEyeInterval&&(this.babyEyeIndex=(this.babyEyeIndex+1)%2,this.babyEyeTimer%=this.babyEyeInterval,0==this.babyEyeIndex?this.babyEyeInterval=1500*Math.random()+1500:this.babyEyeInterval=200),this.babyBodyTimer+=r.diffframetime,this.babyBodyTimer>550&&(this.babyBodyIndex+=1,this.babyBodyTimer%=550,e.strength=((20-this.babyBodyIndex)/2).toFixed(0),this.babyBodyIndex>19&&(this.babyBodyIndex=19,e.gameOver=!0,s.style.cursor="pointer")),o.save(),o.translate(this.x,this.y),o.rotate(this.angle);var h=this.babyTailArr[this.babyTailIndex];o.drawImage(h,.5*-h.width+24,.5*-h.height);var u=this.babyBodyArr[this.babyBodyIndex];o.drawImage(u,.5*-u.width,.5*-u.height);var d=this.babyEyeArr[this.babyEyeIndex];o.drawImage(d,.5*-d.width,.5*-d.height),o.restore()},t.exports=d},function(t,e,i){var r=i(0),n=r.ctx1,a=r.imgUrl,o=r.canWid,s=r.canHei,h=function(){this.num=30,this.dustPic=[],this.x=[],this.y=[],this.amp=[],this.index=[],this.beta=0};h.prototype.init=function(){for(var t=0;t<7;t++)this.dustPic[t]=new Image,this.dustPic[t].src=a+"dust"+t+".png";for(var t=0;t<this.num;t++)this.x[t]=Math.random()*o,this.y[t]=Math.random()*s,this.amp=20+Math.random()+15,this.index[t]=Math.floor(7*Math.random())},h.prototype.drawDust=function(){for(var t=0;t<this.num;t++){var e=this.index[t];n.drawImage(this.dustPic[e],this.x,this.y)}},t.exports=h},function(t,e,i){function r(){for(var t=n.fruitOb,e=0;e<t.num;e++)if(!t.alive[e])return t.born(e),!1}var n=i(0),a=n.ctx2,o=n.imgUrl,s=function(){this.num=30,this.x=[],this.y=[],this.size=[],this.type=[],this.speed=[],this.grow=[],this.alive=[],this.orange=new Image,this.blue=new Image};s.prototype.init=function(){this.orange.src=o+"fruit.png",this.blue.src=o+"blue.png";for(var t=0;t<this.num;t++)this.x[t]=this.y[t]=0,this.speed[t]=.015*Math.random()+.005,this.alive[t]=!1,this.grow[t]=!1,this.type[t]=""},s.prototype.drawFruit=function(){for(var t=0;t<this.num;t++)if(this.alive[t]){this.size[t]<=16?(this.grow[t]=!1,this.size[t]+=this.speed[t]*n.diffframetime*.8):(this.grow[t]=!0,this.y[t]-=5*this.speed[t]*n.diffframetime);var e=this.orange;"blue"==this.type[t]&&(e=this.blue),a.drawImage(e,this.x[t]-.5*this.size[t],this.y[t]-.5*this.size[t],this.size[t],this.size[t]),this.y[t]<8&&(this.alive[t]=!1)}},s.prototype.born=function(t){var e=n.aneOb,i=Math.floor(Math.random()*e.num);this.x[t]=e.headx[i],this.y[t]=e.heady[i],this.size[t]=0,this.alive[t]=!0;var r=Math.random();this.type[t]=r<.1?"blue":"orange"},s.prototype.dead=function(t){this.alive[t]=!1},s.prototype.computeFruit=function(){for(var t=n.fruitOb,e=0,i=0;i<t.num;i++)t.alive[i]&&e++;if(e<15)return r(),!1},t.exports=s},function(t,e,i){var r=i(0),n=r.ctx1,a=r.canWid,o=r.canHei,s=function(){this.num=5,this.x=[],this.y=[],this.r=[],this.status=[]};s.prototype.init=function(){for(var t=0;t<this.num;t++)this.x[t]=.5*a,this.y[t]=.5*o,this.status[t]=!1,this.r[t]=0},s.prototype.drawHalo=function(){n.save(),n.lineWidth=4;for(var t=0;t<this.num;t++)if(this.status[t]){if(this.r[t]+=.08*r.diffframetime,this.r[t]>100)return this.status[t]=!1,!1;var e=1-this.r[t]/100;n.strokeStyle="rgba(203, 91, 0, "+e+")",n.beginPath(),n.arc(this.x[t],this.y[t],this.r[t],0,2*Math.PI),n.stroke()}n.restore()},s.prototype.born=function(){for(var t=r.babyOb,e=0;e<this.num;e++)if(!this.status[e])return this.status[e]=!0,this.x[e]=t.x,this.y[e]=t.y,this.r[e]=10,!1},t.exports=s},function(t,e,i){var r=i(0),n=i(1),a=r.ctx1,o=r.imgUrl,s=r.canWid,h=r.canHei,u=n.lerpAngle,m=n.lerpDistance,f=function(){this.x=0,this.y=0,this.angle,this.momTailArr=[],this.momTailTimer=0,this.momTailIndex=0,this.momEyeArr=[],this.momEyeTimer=0,this.momEyeIndex=0,this.momEyeInterval=1e3,this.momOrangeArr=[],this.momBlueArr=[],this.momBodyIndex=0};f.prototype.init=function(){this.x=.5*s,this.y=.5*h,this.angle=0;for(var t=0;t<8;t++)this.momTailArr[t]=new Image,this.momTailArr[t].src=o+"bigTail"+t+".png";for(var t=0;t<2;t++)this.momEyeArr[t]=new Image,this.momEyeArr[t].src=o+"bigEye"+t+".png";for(var t=0;t<8;t++)this.momOrangeArr[t]=new Image,this.momOrangeArr[t].src=o+"bigSwim"+t+".png",this.momBlueArr[t]=new Image,this.momBlueArr[t].src=o+"bigSwimBlue"+t+".png"},f.prototype.drawMom=function(){var t=r.scoreOb;this.x=m(r.mx,this.x,.96),this.y=m(r.my,this.y,.98);var e=r.mx-this.x,i=r.my-this.y,n=Math.atan2(i,e)+Math.PI;this.angle=u(n,this.angle,.6),this.momTailTimer+=r.diffframetime,this.momTailTimer>50&&(this.momTailIndex=(this.momTailIndex+1)%8,this.momTailTimer%=50),this.momEyeTimer+=r.diffframetime,this.momEyeTimer>this.momEyeInterval&&(this.momEyeIndex=(this.momEyeIndex+1)%2,this.momEyeTimer%=this.momEyeInterval,0==this.momEyeIndex?this.momEyeInterval=1500*Math.random()+1500:this.momEyeInterval=200),a.save(),a.translate(this.x,this.y),a.rotate(this.angle);var o=this.momTailArr[this.momTailIndex];a.drawImage(o,.5*-o.width+30,.5*-o.height);var s;s=1!=t.doubleNum?this.momBlueArr[this.momBodyIndex]:this.momOrangeArr[this.momBodyIndex],a.drawImage(s,.5*-s.width,.5*-s.height);var h=this.momEyeArr[this.momEyeIndex];a.drawImage(h,.5*-h.width,.5*-h.height),a.restore()},t.exports=f},function(t,e,i){var r=i(0),n=r.ctx1,a=r.canWid,o=r.canHei,s=function(){this.fruitNum=0,this.doubleNum=1,this.score=0,this.strength=10,this.alpha=0,this.gameOver=!1};s.prototype.init=function(){this.fruitNum=0,this.doubleNum=1,this.score=0},s.prototype.drawScore=function(){var t=r.scoreOb;n.fillText("num: "+this.fruitNum,.5*a,o-30),n.fillText("double: "+this.doubleNum,.5*a,o-70),n.save(),n.font="30px verdana",n.fillText("SCORE: "+this.score,.5*a,50),n.font="20px verdana",n.fillText("strength: ",650,45),t.strength<=3&&(n.fillStyle="red"),n.fillText(t.strength,710,45),t.gameOver&&(this.alpha+=5e-4*r.diffframetime,this.alpha>1&&(this.alpha=1),n.font="40px verdana",n.shadowBlur=10,n.shadowColor="white",n.fillStyle="rgba(255, 255, 255, "+this.alpha+")",n.fillText("GAME OVER",.5*a,.5*o-25),n.save(),n.font="25px verdana",n.fillText("CLICK TO RESTART",.5*a,.5*o+25),n.restore()),n.restore()},s.prototype.computeScore=function(){var t=r.scoreOb;t.score+=t.fruitNum*t.doubleNum,this.fruitNum=0,this.doubleNum=1},t.exports=s},function(t,e,i){var r=i(0),n=r.ctx1,a=r.canWid,o=r.canHei,s=function(){this.num=10,this.x=[],this.y=[],this.r=[],this.status=[]};s.prototype.init=function(){for(var t=0;t<this.num;t++)this.x[t]=.5*a,this.y[t]=.5*o,this.status[t]=!1,this.r[t]=0},s.prototype.drawWave=function(){n.save(),n.lineWidth=3;for(var t=0;t<this.num;t++)if(this.status[t]){if(this.r[t]+=.04*r.diffframetime,this.r[t]>60)return this.status[t]=!1,!1;var e=1-this.r[t]/60;n.strokeStyle="rgba(255, 255, 255, "+e+")",n.beginPath(),n.arc(this.x[t],this.y[t],this.r[t],0,2*Math.PI),n.stroke()}n.restore()},s.prototype.born=function(t){for(var e=r.fruitOb,i=0;i<this.num;i++)if(!this.status[i])return this.status[i]=!0,this.x[i]=e.x[t],this.y[i]=e.y[t],this.r[i]=10,!1},t.exports=s},function(t,e,i){var r=i(13);"string"==typeof r&&(r=[[t.i,r,""]]);var n={hmr:!0};n.transform=void 0;i(15)(r,n);r.locals&&(t.exports=r.locals)},function(t,e,i){e=t.exports=i(14)(void 0),e.push([t.i,"body,ul,p,h1,h2,h3,h4,dl,dd,form,input,textarea,select{padding:0;margin:0;font-family:arial;font-size:12px;}\r\nli{list-style:none;}\r\nimg,input{border:none;}\r\na{text-decoration:none;}\r\na:hover{text-decoration:underline;}\r\n\r\n.introduce{width:800px;height:100px;margin:0 auto;padding-top: 10px;}\r\n.introduce p.title{width:800px;font-size: 16px;font-weight: bold;text-align: center;}\r\n.introduce ul{width: 800px;margin:6px 0;}\r\n.introduce ul li{width: 800px;height: 20px;line-height: 20px;}\r\n\r\n.page{width: 800px;height: 600px;margin: 0px auto;margin-top: 6px;}\r\n#main{width: 800px;height: 600px;position: relative;}\r\n#canvas1, #canvas2 {width: 800px;height: 600px;position: absolute;left: 0;top: 0;}\r\n#canvas1{z-index: 1;}\r\n#canvas2{z-index: 0;}\r\n",""])},function(t,e){function i(t,e){var i=t[1]||"",n=t[3];if(!n)return i;if(e&&"function"==typeof btoa){var a=r(n);return[i].concat(n.sources.map(function(t){return"/*# sourceURL="+n.sourceRoot+t+" */"})).concat([a]).join("\n")}return[i].join("\n")}function r(t){return"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(t))))+" */"}t.exports=function(t){var e=[];return e.toString=function(){return this.map(function(e){var r=i(e,t);return e[2]?"@media "+e[2]+"{"+r+"}":r}).join("")},e.i=function(t,i){"string"==typeof t&&(t=[[null,t,""]]);for(var r={},n=0;n<this.length;n++){var a=this[n][0];"number"==typeof a&&(r[a]=!0)}for(n=0;n<t.length;n++){var o=t[n];"number"==typeof o[0]&&r[o[0]]||(i&&!o[2]?o[2]=i:i&&(o[2]="("+o[2]+") and ("+i+")"),e.push(o))}},e}},function(t,e,i){function r(t,e){for(var i=0;i<t.length;i++){var r=t[i],n=l[r.id];if(n){n.refs++;for(var a=0;a<n.parts.length;a++)n.parts[a](r.parts[a]);for(;a<r.parts.length;a++)n.parts.push(m(r.parts[a],e))}else{for(var o=[],a=0;a<r.parts.length;a++)o.push(m(r.parts[a],e));l[r.id]={id:r.id,refs:1,parts:o}}}}function n(t,e){for(var i=[],r={},n=0;n<t.length;n++){var a=t[n],o=e.base?a[0]+e.base:a[0],s=a[1],h=a[2],u=a[3],m={css:s,media:h,sourceMap:u};r[o]?r[o].parts.push(m):i.push(r[o]={id:o,parts:[m]})}return i}function a(t,e){var i=p(t.insertInto);if(!i)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var r=x[x.length-1];if("top"===t.insertAt)r?r.nextSibling?i.insertBefore(e,r.nextSibling):i.appendChild(e):i.insertBefore(e,i.firstChild),x.push(e);else if("bottom"===t.insertAt)i.appendChild(e);else{if("object"!=typeof t.insertAt||!t.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var n=p(t.insertInto+" "+t.insertAt.before);i.insertBefore(e,n)}}function o(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t);var e=x.indexOf(t);e>=0&&x.splice(e,1)}function s(t){var e=document.createElement("style");return t.attrs.type="text/css",u(e,t.attrs),a(t,e),e}function h(t){var e=document.createElement("link");return t.attrs.type="text/css",t.attrs.rel="stylesheet",u(e,t.attrs),a(t,e),e}function u(t,e){Object.keys(e).forEach(function(i){t.setAttribute(i,e[i])})}function m(t,e){var i,r,n,a;if(e.transform&&t.css){if(!(a=e.transform(t.css)))return function(){};t.css=a}if(e.singleton){var u=v++;i=b||(b=s(e)),r=f.bind(null,i,u,!1),n=f.bind(null,i,u,!0)}else t.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(i=h(e),r=c.bind(null,i,e),n=function(){o(i),i.href&&URL.revokeObjectURL(i.href)}):(i=s(e),r=d.bind(null,i),n=function(){o(i)});return r(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;r(t=e)}else n()}}function f(t,e,i,r){var n=i?"":r.css;if(t.styleSheet)t.styleSheet.cssText=w(e,n);else{var a=document.createTextNode(n),o=t.childNodes;o[e]&&t.removeChild(o[e]),o.length?t.insertBefore(a,o[e]):t.appendChild(a)}}function d(t,e){var i=e.css,r=e.media;if(r&&t.setAttribute("media",r),t.styleSheet)t.styleSheet.cssText=i;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(i))}}function c(t,e,i){var r=i.css,n=i.sourceMap,a=void 0===e.convertToAbsoluteUrls&&n;(e.convertToAbsoluteUrls||a)&&(r=g(r)),n&&(r+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(n))))+" */");var o=new Blob([r],{type:"text/css"}),s=t.href;t.href=URL.createObjectURL(o),s&&URL.revokeObjectURL(s)}var l={},y=function(t){var e;return function(){return void 0===e&&(e=t.apply(this,arguments)),e}}(function(){return window&&document&&document.all&&!window.atob}),p=function(t){var e={};return function(i){if(void 0===e[i]){var r=t.call(this,i);if(r instanceof window.HTMLIFrameElement)try{r=r.contentDocument.head}catch(t){r=null}e[i]=r}return e[i]}}(function(t){return document.querySelector(t)}),b=null,v=0,x=[],g=i(16);t.exports=function(t,e){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");e=e||{},e.attrs="object"==typeof e.attrs?e.attrs:{},e.singleton||"boolean"==typeof e.singleton||(e.singleton=y()),e.insertInto||(e.insertInto="head"),e.insertAt||(e.insertAt="bottom");var i=n(t,e);return r(i,e),function(t){for(var a=[],o=0;o<i.length;o++){var s=i[o],h=l[s.id];h.refs--,a.push(h)}if(t){r(n(t,e),e)}for(var o=0;o<a.length;o++){var h=a[o];if(0===h.refs){for(var u=0;u<h.parts.length;u++)h.parts[u]();delete l[h.id]}}}};var w=function(){var t=[];return function(e,i){return t[e]=i,t.filter(Boolean).join("\n")}}()},function(t,e){t.exports=function(t){var e="undefined"!=typeof window&&window.location;if(!e)throw new Error("fixUrls requires window.location");if(!t||"string"!=typeof t)return t;var i=e.protocol+"//"+e.host,r=i+e.pathname.replace(/\/[^\/]*$/,"/");return t.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(t,e){var n=e.trim().replace(/^"(.*)"$/,function(t,e){return e}).replace(/^'(.*)'$/,function(t,e){return e});if(/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/)/i.test(n))return t;var a;return a=0===n.indexOf("//")?n:0===n.indexOf("/")?i+n:r+n.replace(/^\.\//,""),"url("+JSON.stringify(a)+")"})}}]);